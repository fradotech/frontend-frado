import { config } from '@/app/_infrastructure/config'
import { IndexSortOderEnum } from '@/app/_infrastructure/interfaces/index.interface'
import AuthorInfo from '@/components/organism/authorInfo/AuthorInfo'
import LatestPost from '@/components/organism/latestPost/LatestPost'
import { PostAction } from '../blog/_infrastructure/post.action'

export const metadata = {
  title: `Author Page | ${config.app.name}`,
  description: 'Generated by create next app',
}

const Author = async () => {
  const { data } = await PostAction.fetch({
    sortField: 'views',
    sortOrder: IndexSortOderEnum.Desc,
  })

  return (
    <main>
      <section>
        <AuthorInfo />
      </section>

      <section>
        <LatestPost title="Popular Post" data={data} />
      </section>
    </main>
  )
}

export default Author
